<!DOCTYPE html>
<html>

<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>UEF Room Finder</title>

    <script>

        var tilat = {

            "Joensuu": [
                {
                    "tunnus":"M100",
                    "kapasiteetti":100,
                    "videoneuvottelulaite":true
                }, 
                {
                    "tunnus":"M101",
                    "kapasiteetti":50,
                    "videoneuvottelulaite":false
                },
                {
                    "tunnus":"M102",
                    "kapasiteetti":45,
                    "videoneuvottelulaite": false
                }
            ],

            "Kuopio": [
                {
                    "tunnus":"SN210",
                    "kapasiteetti":75,
                    "videoneuvottelulaite": true
                },
                {
                    "tunnus":"CA200",
                    "kapasiteetti":200,
                    "videoneuvottelulaite": true
                },
                {
                    "tunnus":"ME100",
                    "kapasiteetti":60,
                    "videoneuvottelulaite": false
                }
            ]
        }


      /*   window.onload = function() {
        var valittuKampus = document.getElementById("kampus");
        
        //var chapterSel = document.getElementById("chapter");
        for (var x in tilat) {
            valittuKampus.options[valittuKampus.options.length] = new Option(x,x);
        } */
       
       /*  topicSel.onchange = function() {
            //empty Chapters dropdown
            chapterSel.length = 1;
            //display correct values
            var z = subjectObject[subjectSel.value][this.value];
            for (var i = 0; i < z.length; i++) {
            chapterSel.options[chapterSel.options.length] = new Option(z[i], z[i]);
            }
        } */
       // }

       

    </script>

</head>

<body>

    Valitse kampus<br>

    <form>
        
        Kampus:<br>
        <input type="checkbox" id="kampus1" name="kampus1" value="Joensuu" checked="checked">
        <label for="kampus1">Joensuu</label><br>
        <input type="checkbox" id="kampus2" name="kampus2" value="Kuopio" checked="checked">
        <label for="kampus2">Kuopio</label>
        <br><br>

        Henkilöitä paikalla:<br>
        <div class="slidercontainer">
            <input type="range" min="2" max="600" value="25" class="slider" id="liuku">
            <br><input id="luku" name="luku" type="text" value=""><br><br>
        </div>
        <button type="button" onclick="listaa()">listaa tilat</button> <br><br><br>
        
        

    </form>



    
<script>
    var liukuri = document.getElementById("liuku");
    var luku = document.getElementById("luku");
    
    luku.value = liukuri.value;

    liukuri.oninput = function(){ 
        luku.value = this.value;
     }
    luku.oninput = function(){
        liukuri.value = this.value;
    }
    function listaa(){
        //tyhjennä
        document.getElementById("taulukko").innerHTML="";
        
        var testausta = "";

        for(let kampus in tilat){

            for (let tila in tilat[kampus]){

                if (document.getElementById('kampus1').checked
                && tilat[kampus][tila].kapasiteetti >= luku.value){
                    if (kampus == "Joensuu"){
                        testausta += kampus +"   " 
                        + tilat[kampus][tila].tunnus+"   " 
                        + tilat[kampus][tila].kapasiteetti + "<br>";
                }}

                if (document.getElementById('kampus2').checked
                && tilat[kampus][tila].kapasiteetti >= luku.value){
                    if (kampus == "Kuopio"){
                        testausta += kampus +"   " 
                        + tilat[kampus][tila].tunnus+"   " 
                        + tilat[kampus][tila].kapasiteetti + "<br>";
                }}

            }
        }
        

        document.getElementById("taulukko").innerHTML=testausta;
    }
    

</script>


<div id="taulukko"></div>


</body>

</html>